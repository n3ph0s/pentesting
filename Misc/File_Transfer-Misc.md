# Miscellaneous File Transfer Methods

## Web Servers

In addition to Apache and Nginx it is possible to stand up a web server using various languages

```Python
# Python 2
python -m SimpleHTTPServer 8080

# Python 3
python -m http.server 8080
```

```Ruby
# Ruby
ruby -run -ehttpd . -p8080
```

```php
# PHP
php -S 0.0.0.0:8080
```

```bash
socat TCP-LISTEN:8080,reuseaddr,fork
```

If on a Windows machine with administative privileges you can install IIS

```PowerShell
Add-WIndowsFeature Web-Server, Web-Mgmt-Tools
```

## SMB / WebDav

SMB is a good option for file transfers, as on Windows as you donâ€™t need to install anything. SMB traffic features prominently on networks, and SMB file transfers to Windows computers are expected.

### PowerShell

```PowerShell
# Copy-Item
Copy-Item -Path C:\Temp\nc.exe -Destination C:\Temp\nc.exe -ToSession $session

# Set-Content
$file = Get-Content C:\Temp\nc.exe -Raw
Invoke-Command -ComputerName 10.10.10.132 -ScriptBlock {Set-Content -Path C:\Temp\nc.exe -value $using:file}

# Copy / xcopy / robocopy
xcopy \\10.10.10.132\share\nc.exe nc.exe
copy C:\Temp\nc.exe \\10.10.10.132\c$\Temp\nc.exe

# Map / Mount Drives
net use Q: \\10.10.10.132\share
pushd \\10.10.10.132\share
mklink /D share \\10.10.10.132\share
New-PSDrive -Name "Public" -PSProvider "FileSystem" -Root "\\Server01\Public"
```

If moving content that is deemed to be sensitive it is recommended that this be encrypted and this is possible on Windows by using `Invoke-AESEncryption.ps1`

```PowerShell
# Import the Module
Import-Module .\Invoke-AESEncryption.ps1

# Encrypt the file
Invoke-AESEncryption -Mode Encrypt -Key "p4ssw0rd" -Path .\private.txt
```
